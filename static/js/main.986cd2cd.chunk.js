(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{58:function(e,t,c){},59:function(e,t,c){},61:function(e,t,c){},79:function(e,t,c){},80:function(e,t,c){},81:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(0),r=c(22),s=c(16),i=c(5),o=c(12),d=c(4),j=(c(58),function(){var e,t=Object(d.c)((function(e){return e.cards})).cards;return Object(n.jsxs)("div",{className:"badge",children:["Counter: ",Object(n.jsx)("span",{children:(e=t,e.length)})]})}),l=c(2),u=c(21),b=c(83),O=function(e,t){var c=e.findIndex((function(e){return e.id===t.id})),n=Object(u.a)(e);return n[c]=Object(l.a)({},t),{type:"ON_SAVE",payload:n}},h=c(48),m=Object(h.a)({name:"user",initialState:{user:{},isAdmin:!1},reducers:{logIn:function(e,t){"testAdmin@gmail.com"===t.payload.username&&"12345yuiopp"===t.payload.password&&(e.isAdmin=!0),e.user=t.payload,localStorage.setItem("username",t.payload.username),localStorage.setItem("password",t.payload.password),localStorage.setItem("isAdmin",e.isAdmin)},logOut:function(e){e.user={},e.isAdmin=!1,localStorage.removeItem("username"),localStorage.removeItem("password"),localStorage.removeItem("isAdmin")},setData:function(e){e.user.username=localStorage.getItem("username"),e.user.password=localStorage.getItem("password"),e.isAdmin="true"===localStorage.getItem("isAdmin")}}}),x=m.actions,p=x.logIn,f=x.logOut,g=x.setData,v=m.reducer,_=(c(59),function(){var e=Object(i.g)(),t=Object(d.b)(),c=Object(d.c)((function(e){return e})),a=c.cards,r=c.user;return Object(n.jsxs)("header",{children:[Object(n.jsx)("h1",{children:r.user.username?r.isAdmin?"Hello admin":"Singed in as ".concat(r.user.username):"Header"}),Object(n.jsx)(i.b,{path:"/",exact:!0,children:Object(n.jsx)(j,{})}),Object(n.jsxs)("div",{className:"nav__block",children:[Object(n.jsx)("div",{className:"nav__block__links",children:Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{children:Object(n.jsx)(o.b,{to:"/",children:"Home"})}),r.user.username?Object(n.jsx)("li",{className:"nav_link",onClick:function(){t(f()),e.push("/")},children:"Sing out"}):Object(n.jsx)("li",{children:Object(n.jsx)(o.b,{to:"/sing-in",children:"Sing in"})}),r.isAdmin?Object(n.jsx)("li",{children:Object(n.jsx)(o.b,{to:"/settings",children:"Settings"})}):null]})}),Object(n.jsx)(i.b,{path:"/",exact:!0,children:Object(n.jsxs)("div",{className:"nav__block__buttons",children:[Object(n.jsx)("div",{children:Object(n.jsxs)("button",{className:"buttons",onClick:function(){t(function(e){return{type:"ON_DELETE",payload:Object(u.a)(e).filter((function(e){return!e.choose\u0421ardFlag}))}}(a.cards))},children:[Object(n.jsx)(s.d,{})," Delete Card"]})}),Object(n.jsx)("div",{children:Object(n.jsxs)("button",{className:"buttons",onClick:function(){t(function(e){return{type:"ON_ADD",payload:Object(u.a)(e).concat({id:Object(b.a)(),title:"",text:"",editModeFlag:!1,"choose\u0421ardFlag":!1})}}(a.cards))},children:[Object(n.jsx)(s.e,{})," Add Card"]})})]})})]})]})}),N=c(18),y=c(13),w=function(e){var t=Object(n.jsxs)("div",{className:"card_title",children:[Object(n.jsx)("p",{children:e.card.title}),Object(n.jsxs)("div",{className:"card_title__btn_block",children:[Object(n.jsx)("input",{className:"card_checbox",type:"checkbox",onClick:e.selectItem}),!e.onView&&Object(n.jsx)("button",{onClick:e.editModeOn,children:Object(n.jsx)(s.a,{})})]})]}),c=Object(n.jsxs)("div",{className:"card_title",children:[Object(n.jsx)("input",{type:"text",name:"title",onChange:e.addNewText,defaultValue:e.card.title}),Object(n.jsxs)("div",{className:"card_title__btn_block",children:[Object(n.jsx)("button",{onClick:e.abortChanges,children:Object(n.jsx)(s.c,{})}),Object(n.jsx)("button",{onClick:e.saveChenges,children:Object(n.jsx)(s.b,{})})]})]});return e.card.editModeFlag?c:t},S=function(e){var t=Object(n.jsx)("p",{className:"card_text",children:e.card.text}),c=Object(n.jsx)("textarea",{className:"card_textarea",name:"text",onChange:e.addNewText,defaultValue:e.card.text});return e.card.editModeFlag?c:t},k=c(24),A=c.n(k),F=function(e){return function(t){var c=Object(a.useState)(!1),r=Object(y.a)(c,2),s=r[0],i=r[1];return Object(a.useEffect)((function(){var e=setTimeout((function(){return i(!0)}),500);return function(){return clearTimeout(e)}}),[]),s?Object(n.jsx)("div",{className:A()("card",{card_is_red:t.card.choose\u0421ardFlag}),children:Object(n.jsx)(e,Object(l.a)({},t))}):Object(n.jsx)("div",{className:"card preloader",children:Object(n.jsx)("div",{className:"loader",children:"Loading..."})})}},C=(c(61),F((function(e){var t=Object(d.c)((function(e){return e.cards})),c=t.cards,r=t.view,s=Object(d.b)(),o=Object(i.g)(),j=Object(a.useState)(Object(l.a)({},e.card)),u=Object(y.a)(j,2),b=u[0],h=u[1],m=function(e){h(Object(l.a)(Object(l.a)({},b),{},Object(N.a)({},e.target.name,e.target.value)))};return Object(n.jsxs)("div",{style:{minHeight:"100%"},onDoubleClick:function(){e.card.editModeFlag||(o.push("/card/"+b.id),s(O(c,Object(l.a)(Object(l.a)({},b),{},{"choose\u0421ardFlag":!1}))))},children:[Object(n.jsx)(w,{card:e.card,onView:r,editModeOn:function(){s(O(c,Object(l.a)(Object(l.a)({},b),{},{editModeFlag:!0,"choose\u0421ardFlag":!1}))),h(Object(l.a)(Object(l.a)({},b),{},{editModeFlag:!0,"choose\u0421ardFlag":!1}))},selectItem:function(){s(O(c,Object(l.a)(Object(l.a)({},b),{},{"choose\u0421ardFlag":!e.card.choose\u0421ardFlag})))},addNewText:m,saveChenges:function(){s(O(c,Object(l.a)(Object(l.a)({},b),{},{editModeFlag:!1})))},abortChanges:function(){s(O(c,Object(l.a)(Object(l.a)({},e.card),{},{editModeFlag:!1}))),h(Object(l.a)(Object(l.a)({},e.card),{},{editModeFlag:!1}))}}),Object(n.jsx)(S,{card:e.card,addNewText:m})]})}))),E=c(42),I=c.n(E),D=function(e){return{type:"GET_CARDS",payload:e}},M=function(){var e=Object(d.c)((function(e){return e.cards})).cards,t=Object(d.b)();return Object(a.useEffect)((function(){e.length||t((function(e){I.a.get("https://raw.githubusercontent.com/BrunnerLivio/PokemonDataGraber/master/output.json").then((function(t){var c=t.data;e(D(c.slice(0,15).map((function(e){return{id:e.Number,title:e.Name,text:e.About,editModeFlag:!1,"choose\u0421ardFlag":!1}}))))})).catch((function(e){return console.log(e)}))}))})),Object(n.jsx)("div",{className:"main",children:e&&e.map((function(e){return Object(n.jsx)(C,{card:e},e.id)}))})},T=(c(79),function(){var e=Object(i.g)(),t=Object(d.b)(),c=Object(a.useState)({username:"",password:""}),r=Object(y.a)(c,2),s=r[0],o=r[1],j=Object(a.useState)(!1),u=Object(y.a)(j,2),b=u[0],O=u[1];Object(a.useEffect)((function(){/\S+@\S+\.(\S{2,6})$/.test(s.username)&&/(?=.*[0-9])(?=.*[a-zA-Z])[0-9a-zA-Z]{8,}/g.test(s.password)?O(!0):O(!1)}),[s]);var h=function(e){o(Object(l.a)(Object(l.a)({},s),{},Object(N.a)({},e.target.name,e.target.value)))};return console.log("username: testAdmin@gmail.com"),console.log("password: 12345yuiopp"),Object(n.jsxs)("form",{onSubmit:function(c){c.preventDefault(),b&&t(p(s)),o({username:"",password:""}),O(!1),e.push("/")},children:[Object(n.jsxs)("label",{children:["Username:",Object(n.jsx)("input",{type:"email",name:"username",value:s.username,onChange:h,required:!0})]}),Object(n.jsxs)("label",{children:["Password:",Object(n.jsx)("input",{type:"password",name:"password",value:s.password,onChange:h,required:!0})]}),Object(n.jsx)("button",{className:A()("buttons",{btn_disable:!b}),children:"Sing in"})]})}),V=function(e){var t=Object(d.c)((function(e){return e.cards})).cards,c=Object(a.useState)({}),r=Object(y.a)(c,2),s=r[0],i=r[1];return Object(a.useEffect)((function(){var c=t.find((function(t){return t.id===e.match.params.id}));c?i(c):e.history.push("/404")}),[t,e.match.params.id,e.history]),Object(n.jsx)("div",{className:"fullcard_block",children:Object(n.jsx)(C,{card:s})})},H=function(){return Object(n.jsxs)(a.Fragment,{children:[Object(n.jsx)("h2",{style:{textAlign:"center"},children:"Page Not Found"}),Object(n.jsx)("h3",{style:{textAlign:"center",marginTop:"25px"},children:Object(n.jsx)(o.b,{to:"/",children:"Home Page"})})]})},L=c(43);function P(){var e=Object(L.a)(["\n  appearance: none;\n  width: 15px;\n  height: 15px;\n  background: #fff;\n  border: 2px solid #000;\n  border-radius: 50%;\n  outline: none;\n  &:hover{\n    background: #fdb8b6;\n  }\n  &:active {\n    background: #f06966;\n  }\n  &:checked {\n    background: #f06966;\n  }\n  "]);return P=function(){return e},e}var G=c(44).a.input(P()),R=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e})).cards;return Object(n.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(n.jsxs)("span",{className:"buttons",children:[Object(n.jsx)(G,{onClick:function(){e(function(e,t){return{type:"ON_VIEW",payload:{cards:Object(u.a)(e).map((function(e){return Object(l.a)(Object(l.a)({},e),{},{editModeFlag:!1})})),view:t}}}(t.cards,!t.view))},type:"checkbox",id:"check1"}),Object(n.jsxs)("label",{htmlFor:"check1",children:["View Mode is ",t.view?"ON":"OFF"]})]})})},q=(c(80),function(){var e=Object(d.b)();Object(a.useEffect)((function(){e(g())}));var t=Object(d.c)((function(e){return e})).user;return Object(n.jsx)(o.a,{children:Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(_,{}),Object(n.jsxs)(i.d,{children:[Object(n.jsx)(i.b,{exact:!0,path:"/",component:M}),Object(n.jsx)(i.b,{exact:!0,path:"/sing-in",component:T}),Object(n.jsx)(i.b,{exact:!0,path:"/card/:id",component:V}),t.isAdmin&&Object(n.jsx)(i.b,{exact:!0,path:"/settings",component:R}),Object(n.jsx)(i.b,{path:"/404",component:H}),Object(n.jsx)(i.a,{to:"/404"})]})]})})}),z=c(6),B={cards:[],view:!1},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CARDS":case"ON_SAVE":return Object(l.a)(Object(l.a)({},e),{},{cards:t.payload});case"ON_VIEW":return Object(l.a)(Object(l.a)({},e),{},{cards:t.payload.cards,view:t.payload.view});case"ON_ADD":case"ON_DELETE":return Object(l.a)(Object(l.a)({},e),{},{cards:t.payload});default:return e}},U=Object(z.c)({cards:J,user:v}),W=c(20),X=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||z.d,Z=Object(z.e)(U,X(Object(z.a)((function(){return function(e){return function(t){return console.log("dispatch - ",t),e(t)}}}),W.a)));Object(r.render)(Object(n.jsx)(d.a,{store:Z,children:Object(n.jsx)(q,{})}),document.getElementById("root"))}},[[81,1,2]]]);
//# sourceMappingURL=main.986cd2cd.chunk.js.map